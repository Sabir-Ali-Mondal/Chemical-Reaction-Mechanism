<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chemistry Mechanism Visualizer - Hand-Drawn Style</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', 'Comic Sans MS', cursive;
            background: #f9f6f0;
            overflow-x: hidden;
        }

        .paper {
            width: 100%;
            min-height: 100vh;
            background:
                linear-gradient(90deg, #e8e4dc 1px, transparent 1px),
                linear-gradient(180deg, #e8e4dc 1px, transparent 1px);
            background-size: 20px 20px;
            background-color: #fefdfb;
            padding: 60px 40px;
            position: relative;
        }

        .mechanism-container {
            max-width: 1400px;
            margin: 0 auto;
        }

        .step {
            margin-bottom: 120px;
            position: relative;
            display: flex;
            align-items: center;
            gap: 30px;
            flex-wrap: wrap;
        }

        .step-number {
            position: absolute;
            top: -30px;
            left: 0;
            font-size: 18px;
            font-weight: bold;
            color: #2c5aa0;
            font-family: 'Courier New', monospace;
        }

        .molecule {
            position: relative;
            padding: 20px;
        }

        /* Bond styles */
        .bond {
            position: absolute;
            background: #1a1a1a;
            transform-origin: left center;
        }

        .single-bond {
            height: 2px;
            width: 50px;
        }

        .double-bond {
            height: 2px;
            width: 50px;
        }

        .double-bond::before {
            content: '';
            position: absolute;
            width: 100%;
            height: 2px;
            background: #1a1a1a;
            top: 6px;
        }

        .triple-bond {
            height: 2px;
            width: 50px;
        }

        .triple-bond::before,
        .triple-bond::after {
            content: '';
            position: absolute;
            width: 100%;
            height: 2px;
            background: #1a1a1a;
        }

        .triple-bond::before {
            top: 5px;
        }

        .triple-bond::after {
            top: -5px;
        }

        /* Atom labels */
        .atom {
            display: inline-block;
            font-size: 20px;
            font-weight: 600;
            color: #1a1a1a;
            position: relative;
            padding: 5px;
            font-family: 'Arial', sans-serif;
        }

        .atom.carbon {
            color: #2c2c2c;
        }

        .atom.oxygen {
            color: #c41e3a;
        }

        .atom.nitrogen {
            color: #0047ab;
        }

        .atom.sulfur {
            color: #d4af37;
        }

        .atom.halogen {
            color: #228b22;
        }

        /* Subscripts and superscripts */
        .subscript {
            font-size: 14px;
            vertical-align: sub;
        }

        .superscript {
            font-size: 14px;
            vertical-align: super;
        }

        /* Curved arrows for electron movement */
        .curved-arrow {
            position: relative;
            display: inline-block;
            margin: 0 20px;
        }

        .curved-arrow svg {
            width: 100px;
            height: 80px;
            overflow: visible;
        }

        .curved-arrow path {
            fill: none;
            stroke: #d32f2f;
            stroke-width: 2.5;
            stroke-linecap: round;
        }

        .curved-arrow-double path {
            stroke-width: 2;
        }

        /* Reaction arrows */
        .reaction-arrow {
            position: relative;
            display: inline-flex;
            align-items: center;
            margin: 0 30px;
            flex-direction: column;
        }

        .arrow-body {
            width: 120px;
            height: 3px;
            background: #1a1a1a;
            position: relative;
        }

        .arrow-body::after {
            content: '';
            position: absolute;
            right: -10px;
            top: -7px;
            width: 0;
            height: 0;
            border-left: 15px solid #1a1a1a;
            border-top: 8px solid transparent;
            border-bottom: 8px solid transparent;
        }

        .reagents {
            position: absolute;
            top: -25px;
            font-size: 14px;
            white-space: nowrap;
            color: #2c5aa0;
            font-style: italic;
        }

        .conditions {
            position: absolute;
            bottom: -25px;
            font-size: 13px;
            color: #666;
        }

        /* Special symbols */
        .heat {
            position: relative;
            display: inline-block;
            font-size: 24px;
            color: #ff6b35;
            margin: 0 5px;
        }

        .delta {
            font-family: 'Symbol', serif;
        }

        .light {
            position: relative;
            display: inline-block;
            font-size: 18px;
            margin: 0 5px;
        }

        /* Charges */
        .positive-charge {
            color: #d32f2f;
            font-weight: bold;
        }

        .negative-charge {
            color: #1976d2;
            font-weight: bold;
        }

        /* Resonance arrow */
        .resonance-arrow {
            margin: 0 15px;
            font-size: 28px;
            color: #5e35b1;
        }

        /* Equilibrium arrow */
        .equilibrium-arrow {
            position: relative;
            display: inline-block;
            width: 100px;
            height: 30px;
            margin: 0 20px;
        }

        .equilibrium-arrow::before,
        .equilibrium-arrow::after {
            content: '';
            position: absolute;
            width: 80px;
            height: 2px;
            background: #1a1a1a;
        }

        .equilibrium-arrow::before {
            top: 8px;
        }

        .equilibrium-arrow::after {
            top: 18px;
        }

        .equilibrium-arrow::before::after {
            content: '';
            position: absolute;
            right: 0;
            border-left: 8px solid #1a1a1a;
            border-top: 5px solid transparent;
            border-bottom: 5px solid transparent;
        }

        /* Structure drawing helpers */
        .structure {
            position: relative;
            display: inline-block;
            margin: 20px;
        }

        .skeletal-structure {
            display: inline-block;
            position: relative;
        }

        /* Benzene ring */
        .benzene {
            width: 100px;
            height: 100px;
            position: relative;
            display: inline-block;
        }

        .benzene-svg {
            width: 100%;
            height: 100%;
        }

        /* Electron dots */
        .electron-dot {
            width: 4px;
            height: 4px;
            background: #1a1a1a;
            border-radius: 50%;
            display: inline-block;
            margin: 0 2px;
        }

        /* Mechanism annotations */
        .annotation {
            position: absolute;
            font-size: 12px;
            color: #7b1fa2;
            font-style: italic;
            white-space: nowrap;
        }

        /* Step labels */
        .step-label {
            font-size: 16px;
            color: #2e7d32;
            font-weight: bold;
            margin-bottom: 15px;
            display: block;
        }

        /* Intermediate boxes */
        .intermediate {
            border: 2px dashed #9c27b0;
            padding: 15px;
            border-radius: 5px;
            background: rgba(156, 39, 176, 0.05);
        }

        .intermediate-label {
            font-size: 12px;
            color: #9c27b0;
            font-weight: bold;
            margin-top: 10px;
            text-align: center;
        }

        /* Lone pairs */
        .lone-pair {
            position: relative;
            display: inline-block;
            width: 8px;
            height: 8px;
        }

        .lone-pair::before,
        .lone-pair::after {
            content: '';
            width: 3px;
            height: 3px;
            background: #1a1a1a;
            border-radius: 50%;
            position: absolute;
        }

        .lone-pair::before {
            left: 0;
        }

        .lone-pair::after {
            right: 0;
        }

        /* Title */
        h1 {
            text-align: center;
            color: #1a237e;
            font-size: 32px;
            margin-bottom: 50px;
            font-family: 'Georgia', serif;
            text-decoration: underline;
            text-decoration-color: #1a237e;
            text-decoration-thickness: 2px;
            text-underline-offset: 8px;
        }

        /* Parentheses for groups */
        .group {
            border: 1px solid #666;
            padding: 5px 10px;
            border-radius: 3px;
            display: inline-block;
            margin: 0 5px;
        }

        /* Radical dot */
        .radical {
            position: relative;
        }

        .radical::after {
            content: '•';
            position: absolute;
            top: -8px;
            right: -8px;
            color: #d32f2f;
            font-size: 20px;
        }

        /* Wedge and dash bonds for stereochemistry */
        .wedge-bond {
            width: 0;
            height: 0;
            border-left: 15px solid transparent;
            border-right: 15px solid transparent;
            border-bottom: 50px solid #1a1a1a;
            display: inline-block;
            position: relative;
        }

        .dash-bond {
            width: 50px;
            height: 2px;
            background: repeating-linear-gradient(90deg,
                    #1a1a1a 0px,
                    #1a1a1a 5px,
                    transparent 5px,
                    transparent 10px);
            display: inline-block;
        }

        /* Visual flourishes for hand-drawn effect */
        .handdrawn {
            filter: url(#rough);
        }

        /* Brackets for showing electron movement area */
        .bracket {
            font-size: 60px;
            color: #7b1fa2;
            line-height: 1;
            display: inline-block;
        }

        /* Chemistry notation styles */
        .lewis-structure {
            display: inline-block;
            position: relative;
            padding: 10px;
        }

        /* Product box */
        .product {
            background: rgba(46, 125, 50, 0.1);
            border: 2px solid #2e7d32;
            padding: 20px;
            border-radius: 8px;
            display: inline-block;
        }

        .product-label {
            color: #2e7d32;
            font-weight: bold;
            font-size: 14px;
            margin-bottom: 10px;
        }

        /* Catalytic cycle indicator */
        .cycle-arrow {
            width: 150px;
            height: 150px;
            border: 3px solid #1976d2;
            border-radius: 50%;
            position: relative;
            display: inline-block;
        }

        .cycle-arrow::after {
            content: '↻';
            font-size: 48px;
            position: absolute;
            right: 10px;
            top: -10px;
            color: #1976d2;
        }
    </style>
</head>

<body>
    <div class="paper">
        <div class="mechanism-container">
            <h1>Comprehensive Organic Chemistry Reaction Mechanism</h1>
            <p style="text-align: center; color: #666; margin-bottom: 60px; font-style: italic;">
                Demonstration of All Major Reaction Types and Notations
            </p>

            <!-- STEP 1: Nucleophilic Substitution (SN2) -->
            <div class="step">
                <div class="step-number">Step 1: SN2 Nucleophilic Substitution</div>
                <div class="structure">
                    <span class="atom halogen">Br</span>
                    <span class="atom">-CH<span class="subscript">2</span></span>
                    <span class="atom">-CH<span class="subscript">3</span></span>
                </div>

                <div class="reaction-arrow">
                    <div class="reagents">
                        <span class="atom oxygen">OH</span><span class="superscript negative-charge">−</span>
                    </div>
                    <div class="arrow-body"></div>
                    <div class="conditions">DMF, 25°C</div>
                </div>

                <div class="structure intermediate">
                    <span class="annotation" style="top: -40px; left: 50%;">Transition State</span>
                    <span class="bracket">[</span>
                    <span class="atom oxygen">HO</span>
                    <span style="font-size: 24px;">⋯</span>
                    <span class="atom">CH<span class="subscript">2</span></span>
                    <span style="font-size: 24px;">⋯</span>
                    <span class="atom halogen">Br</span>
                    <span class="bracket">]</span>
                    <span class="superscript negative-charge">‡</span>
                </div>

                <div class="reaction-arrow">
                    <div class="arrow-body"></div>
                </div>

                <div class="structure">
                    <span class="atom oxygen">HO</span>
                    <span class="atom">-CH<span class="subscript">2</span></span>
                    <span class="atom">-CH<span class="subscript">3</span></span>
                    <span style="margin-left: 20px;">+</span>
                    <span class="atom halogen">Br</span><span class="superscript negative-charge">−</span>
                </div>
            </div>

            <!-- STEP 2: Elimination Reaction (E2) -->
            <div class="step">
                <div class="step-number">Step 2: E2 Elimination</div>
                <div class="structure">
                    <span class="atom">H<span class="subscript">3</span>C</span>
                    <span class="atom">-CH<span class="subscript">2</span></span>
                    <span class="atom">-CH(Br)</span>
                    <span class="atom">-CH<span class="subscript">3</span></span>
                </div>

                <div class="reaction-arrow">
                    <div class="reagents">
                        <span class="atom oxygen">t-BuO</span><span class="superscript negative-charge">−</span>
                    </div>
                    <div class="arrow-body"></div>
                    <div class="conditions">
                        <span class="heat delta">Δ</span>, EtOH
                    </div>
                </div>

                <div class="structure">
                    <span class="atom">H<span class="subscript">3</span>C</span>
                    <span class="atom">-CH=CH</span>
                    <span class="atom">-CH<span class="subscript">3</span></span>
                    <span style="margin-left: 20px;">+</span>
                    <span class="atom halogen">Br</span><span class="superscript negative-charge">−</span>
                    <span style="margin-left: 10px;">+</span>
                    <span class="atom oxygen">t-BuOH</span>
                </div>
            </div>

            <!-- STEP 3: Electrophilic Addition to Alkene -->
            <div class="step">
                <div class="step-number">Step 3: Electrophilic Addition (Markovnikov)</div>
                <div class="structure">
                    <span class="atom">H<span class="subscript">3</span>C</span>
                    <span class="atom">-CH=CH</span>
                    <span class="atom">-CH<span class="subscript">3</span></span>
                </div>

                <div class="reaction-arrow">
                    <div class="reagents">HBr</div>
                    <div class="arrow-body"></div>
                    <div class="conditions">0°C, CH<span class="subscript">2</span>Cl<span class="subscript">2</span></div>
                </div>

                <div class="structure intermediate">
                    <span class="intermediate-label">Carbocation Intermediate</span>
                    <span class="atom">H<span class="subscript">3</span>C</span>
                    <span class="atom">-CH<span class="superscript positive-charge">+</span></span>
                    <span class="atom">-CH<span class="subscript">2</span></span>
                    <span class="atom">-CH<span class="subscript">3</span></span>
                </div>

                <div class="reaction-arrow">
                    <div class="reagents">
                        <span class="atom halogen">Br</span><span class="superscript negative-charge">−</span>
                    </div>
                    <div class="arrow-body"></div>
                </div>

                <div class="structure">
                    <span class="atom">H<span class="subscript">3</span>C</span>
                    <span class="atom">-CHBr</span>
                    <span class="atom">-CH<span class="subscript">2</span></span>
                    <span class="atom">-CH<span class="subscript">3</span></span>
                </div>
            </div>

            <!-- STEP 4: Radical Halogenation -->
            <div class="step">
                <div class="step-number">Step 4: Radical Chain Reaction (Initiation, Propagation)</div>

                <div class="step-label">Initiation:</div>
                <div class="structure">
                    <span class="atom halogen">Cl<span class="subscript">2</span></span>
                </div>

                <div class="reaction-arrow">
                    <div class="reagents"><span class="light">hν</span></div>
                    <div class="arrow-body"></div>
                </div>

                <div class="structure">
                    <span class="atom halogen radical">Cl</span>
                    <span style="margin: 0 10px;">+</span>
                    <span class="atom halogen radical">Cl</span>
                </div>

                <br><br>

                <div class="step-label">Propagation 1:</div>
                <div class="structure">
                    <span class="atom halogen radical">Cl</span>
                    <span style="margin: 0 10px;">+</span>
                    <span class="atom">CH<span class="subscript">4</span></span>
                </div>

                <div class="reaction-arrow">
                    <div class="arrow-body"></div>
                </div>

                <div class="structure">
                    <span class="atom radical">CH<span class="subscript">3</span></span>
                    <span style="margin: 0 10px;">+</span>
                    <span class="atom">HCl</span>
                </div>

                <br><br>

                <div class="step-label">Propagation 2:</div>
                <div class="structure">
                    <span class="atom radical">CH<span class="subscript">3</span></span>
                    <span style="margin: 0 10px;">+</span>
                    <span class="atom halogen">Cl<span class="subscript">2</span></span>
                </div>

                <div class="reaction-arrow">
                    <div class="arrow-body"></div>
                </div>

                <div class="structure">
                    <span class="atom">CH<span class="subscript">3</span>Cl</span>
                    <span style="margin: 0 10px;">+</span>
                    <span class="atom halogen radical">Cl</span>
                </div>
            </div>

            <!-- STEP 5: Nucleophilic Acyl Substitution -->
            <div class="step">
                <div class="step-number">Step 5: Nucleophilic Acyl Substitution (Ester Formation)</div>

                <div class="structure">
                    <span class="atom">R</span>
                    <span class="atom">-C(=O)</span>
                    <span class="atom halogen">-Cl</span>
                </div>

                <div class="reaction-arrow">
                    <div class="reagents">
                        <span class="atom oxygen">R'OH</span>
                    </div>
                    <div class="arrow-body"></div>
                    <div class="conditions">pyridine</div>
                </div>

                <div class="structure intermediate">
                    <span class="intermediate-label">Tetrahedral Intermediate</span>
                    <span class="atom">R</span>
                    <span class="atom">-C</span>
                    <span class="bracket" style="font-size: 40px;">(</span>
                    <span class="atom oxygen">OH</span>
                    <span class="bracket" style="font-size: 40px;">)</span>
                    <span class="bracket" style="font-size: 40px;">(</span>
                    <span class="atom oxygen">OR'</span>
                    <span class="bracket" style="font-size: 40px;">)</span>
                    <span class="bracket" style="font-size: 40px;">(</span>
                    <span class="atom halogen">Cl</span>
                    <span class="bracket" style="font-size: 40px;">)</span>
                    <span class="superscript negative-charge">−</span>
                </div>

                <div class="reaction-arrow">
                    <div class="reagents">-Cl<span class="superscript">−</span></div>
                    <div class="arrow-body"></div>
                </div>

                <div class="structure">
                    <span class="atom">R</span>
                    <span class="atom">-C(=O)</span>
                    <span class="atom oxygen">-OR'</span>
                    <span style="margin-left: 20px;">+</span>
                    <span class="atom">HCl</span>
                </div>
            </div>

            <!-- STEP 6: Aldol Condensation -->
            <div class="step">
                <div class="step-number">Step 6: Aldol Condensation (Enolate Formation)</div>

                <div class="structure">
                    <span class="atom">CH<span class="subscript">3</span></span>
                    <span class="atom">-C(=O)</span>
                    <span class="atom">-CH<span class="subscript">3</span></span>
                </div>

                <div class="reaction-arrow">
                    <div class="reagents">
                        <span class="atom oxygen">OH</span><span class="superscript negative-charge">−</span>
                    </div>
                    <div class="arrow-body"></div>
                </div>

                <div class="structure intermediate">
                    <span class="intermediate-label">Enolate Ion (Resonance Structures)</span>
                    <span class="atom">CH<span class="subscript">2</span></span>
                    <span class="atom">-C(=O)</span>
                    <span class="atom">-CH<span class="subscript">3</span></span>
                    <span class="superscript negative-charge">−</span>

                    <span class="resonance-arrow">⟷</span>

                    <span class="atom">CH<span class="subscript">2</span>=C</span>
                    <span class="bracket" style="font-size: 30px;">(</span>
                    <span class="atom oxygen">O</span><span class="superscript negative-charge">−</span>
                    <span class="bracket" style="font-size: 30px;">)</span>
                    <span class="atom">-CH<span class="subscript">3</span></span>
                </div>

                <br><br>

                <div class="structure">
                    <span class="annotation" style="top: -40px; left: 0;">Nucleophilic attack on another carbonyl</span>
                    <span class="atom">CH<span class="subscript">2</span>=C</span>
                    <span class="bracket" style="font-size: 30px;">(</span>
                    <span class="atom oxygen">O</span><span class="superscript negative-charge">−</span>
                    <span class="bracket" style="font-size: 30px;">)</span>
                    <span class="atom">-CH<span class="subscript">3</span></span>
                    <span style="margin: 0 10px;">+</span>
                    <span class="atom">CH<span class="subscript">3</span></span>
                    <span class="atom">-C(=O)</span>
                    <span class="atom">-CH<span class="subscript">3</span></span>
                </div>

                <div class="reaction-arrow">
                    <div class="arrow-body"></div>
                </div>

                <div class="structure intermediate">
                    <span class="intermediate-label">β-Hydroxy ketone (Aldol Product)</span>
                    <span class="atom">CH<span class="subscript">3</span></span>
                    <span class="atom">-C(OH)(CH<span class="subscript">3</span>)</span>
                    <span class="atom">-CH<span class="subscript">2</span></span>
                    <span class="atom">-C(=O)</span>
                    <span class="atom">-CH<span class="subscript">3</span></span>
                </div>

                <div class="reaction-arrow">
                    <div class="reagents">
                        <span class="heat delta">Δ</span>
                    </div>
                    <div class="arrow-body"></div>
                    <div class="conditions">-H<span class="subscript">2</span>O</div>
                </div>

                <div class="structure product">
                    <span class="product-label">α,β-Unsaturated Ketone</span>
                    <span class="atom">CH<span class="subscript">3</span></span>
                    <span class="atom">-C(CH<span class="subscript">3</span>)=CH</span>
                    <span class="atom">-C(=O)</span>
                    <span class="atom">-CH<span class="subscript">3</span></span>
                </div>
            </div>

            <!-- STEP 7: Diels-Alder Cycloaddition -->
            <div class="step">
                <div class="step-number">Step 7: [4+2] Diels-Alder Cycloaddition (Pericyclic)</div>

                <div class="structure">
                    <span class="annotation" style="top: -40px;">Diene</span>
                    <span class="atom">CH<span class="subscript">2</span>=CH-CH=CH<span class="subscript">2</span></span>
                </div>

                <div style="margin: 0 20px; font-size: 24px;">+</div>

                <div class="structure">
                    <span class="annotation" style="top: -40px;">Dienophile</span>
                    <span class="atom">CH<span class="subscript">2</span>=CH-C(=O)-OCH<span class="subscript">3</span></span>
                </div>

                <div class="reaction-arrow">
                    <div class="arrow-body"></div>
                    <div class="conditions">
                        <span class="heat delta">Δ</span>, 180°C
                    </div>
                </div>

                <div class="structure product">
                    <span class="product-label">Cyclohexene Derivative</span>
                    <span class="annotation" style="top: -60px; left: 50%;">Six-membered ring formed</span>
                    <span class="atom" style="font-size: 16px;">
                        <svg width="150" height="150" style="vertical-align: middle;">
                            <!-- Cyclohexene ring -->
                            <path d="M 75 20 L 115 45 L 115 95 L 75 120 L 35 95 L 35 45 Z" fill="none" stroke="#1a1a1a" stroke-width="2" />
                            <!-- Double bond -->
                            <line x1="35" y1="45" x2="75" y2="20" stroke="#1a1a1a" stroke-width="3" />
                            <line x1="40" y1="50" x2="75" y2="28" stroke="#1a1a1a" stroke-width="3" />
                            <!-- Substituent -->
                            <text x="115" y="75" font-size="14" fill="#1a1a1a">-CO₂CH₃</text>
                        </svg>
                    </span>
                </div>
            </div>

            <!-- STEP 8: Electrophilic Aromatic Substitution -->
            <div class="step">
                <div class="step-number">Step 8: Electrophilic Aromatic Substitution (Nitration of Benzene)</div>

                <div class="structure">
                    <span class="annotation" style="top: -40px;">Benzene</span>
                    <svg width="100" height="100" class="benzene-svg">
                        <!-- Benzene hexagon -->
                        <path d="M 50 10 L 85 30 L 85 70 L 50 90 L 15 70 L 15 30 Z" fill="none" stroke="#1a1a1a" stroke-width="2" />
                        <!-- Inner circle for aromaticity -->
                        <circle cx="50" cy="50" r="25" fill="none" stroke="#1a1a1a" stroke-width="1" stroke-dasharray="3,3" />
                    </svg>
                </div>

                <div class="reaction-arrow">
                    <div class="reagents">
                        HNO<span class="subscript">3</span>, H<span class="subscript">2</span>SO<span class="subscript">4</span>
                    </div>
                    <div class="arrow-body"></div>
                    <div class="conditions">50-55°C</div>
                </div>

                <div class="structure intermediate">
                    <span class="intermediate-label">Nitronium Ion (Electrophile)</span>
                    <span class="atom nitrogen">N</span>
                    <span class="atom oxygen">≡O</span>
                    <span class="superscript positive-charge">+</span>
                </div>

                <div class="reaction-arrow">
                    <div class="arrow-body"></div>
                </div>

                <div class="structure intermediate">
                    <span class="intermediate-label">σ-Complex (Arenium Ion)</span>
                    <span style="font-size: 14px;">
                        [C<span class="subscript">6</span>H<span class="subscript">6</span>-NO<span class="subscript">2</span>]<span class="superscript positive-charge">+</span>
                    </span>
                </div>

                <div class="reaction-arrow">
                    <div class="reagents">-H<span class="superscript">+</span></div>
                    <div class="arrow-body"></div>
                </div>

                <div class="structure product">
                    <span class="product-label">Nitrobenzene</span>
                    <svg width="120" height="120" class="benzene-svg">
                        <!-- Benzene hexagon -->
                        <path d="M 60 20 L 95 40 L 95 80 L 60 100 L 25 80 L 25 40 Z" fill="none" stroke="#1a1a1a" stroke-width="2" />
                        <!-- Inner circle -->
                        <circle cx="60" cy="60" r="25" fill="none" stroke="#1a1a1a" stroke-width="1" stroke-dasharray="3,3" />
                        <!-- NO2 group -->
                        <text x="50" y="15" font-size="14" fill="#0047ab">NO₂</text>
                    </svg>
                </div>
            </div>

            <!-- STEP 9: Grignard Reaction -->
            <div class="step">
                <div class="step-number">Step 9: Grignard Reaction (Nucleophilic Addition to Carbonyl)</div>

                <div class="structure">
                    <span class="atom">CH<span class="subscript">3</span></span>
                    <span class="atom">-C(=O)</span>
                    <span class="atom">-CH<span class="subscript">3</span></span>
                </div>

                <div class="reaction-arrow">
                    <div class="reagents">
                        CH<span class="subscript">3</span>MgBr
                    </div>
                    <div class="arrow-body"></div>
                    <div class="conditions">Et<span class="subscript">2</span>O, -78°C</div>
                </div>

                <div class="structure intermediate">
                    <span class="intermediate-label">Alkoxide Intermediate</span>
                    <span class="atom">CH<span class="subscript">3</span></span>
                    <span class="atom">-C</span>
                    <span class="bracket" style="font-size: 30px;">(</span>
                    <span class="atom oxygen">O</span><span class="superscript negative-charge">−</span>MgBr
                    <span class="bracket" style="font-size: 30px;">)</span>
                    <span class="bracket" style="font-size: 30px;">(</span>
                    <span class="atom">CH<span class="subscript">3</span></span>
                    <span class="bracket" style="font-size: 30px;">)</span>
                    <span class="bracket" style="font-size: 30px;">(</span>
                    <span class="atom">CH<span class="subscript">3</span></span>
                    <span class="bracket" style="font-size: 30px;">)</span>
                </div>

                <div class="reaction-arrow">
                    <div class="reagents">H<span class="subscript">3</span>O<span class="superscript">+</span></div>
                    <div class="arrow-body"></div>
                    <div class="conditions">Aqueous workup</div>
                </div>

                <div class="structure product">
                    <span class="product-label">Tertiary Alcohol</span>
                    <span class="atom">CH<span class="subscript">3</span></span>
                    <span class="atom">-C</span>
                    <span class="bracket" style="font-size: 30px;">(</span>
                    <span class="atom oxygen">OH</span>
                    <span class="bracket" style="font-size: 30px;">)</span>
                    <span class="bracket" style="font-size: 30px;">(</span>
                    <span class="atom">CH<span class="subscript">3</span></span>
                    <span class="bracket" style="font-size: 30px;">)</span>
                    <span class="bracket" style="font-size: 30px;">(</span>
                    <span class="atom">CH<span class="subscript">3</span></span>
                    <span class="bracket" style="font-size: 30px;">)</span>
                </div>
            </div>

            <!-- STEP 10: Oxidation-Reduction -->
            <div class="step">
                <div class="step-number">Step 10: Oxidation (Alcohol to Ketone)</div>

                <div class="structure">
                    <span class="atom">CH<span class="subscript">3</span></span>
                    <span class="atom">-CH(OH)</span>
                    <span class="atom">-CH<span class="subscript">3</span></span>
                </div>

                <div class="reaction-arrow">
                    <div class="reagents">
                        CrO<span class="subscript">3</span>, H<span class="subscript">2</span>SO<span class="subscript">4</span>
                    </div>
                    <div class="arrow-body"></div>
                    <div class="conditions">Jones oxidation</div>
                </div>

                <div class="structure product">
                    <span class="product-label">Ketone</span>
                    <span class="atom">CH<span class="subscript">3</span></span>
                    <span class="atom">-C(=O)</span>
                    <span class="atom">-CH<span class="subscript">3</span></span>
                    <span style="margin-left: 20px;">+</span>
                    <span class="atom oxygen">H<span class="subscript">2</span>O</span>
                </div>
            </div>

            <!-- STEP 11: Hydroboration-Oxidation -->
            <div class="step">
                <div class="step-number">Step 11: Hydroboration-Oxidation (Anti-Markovnikov)</div>

                <div class="structure">
                    <span class="atom">CH<span class="subscript">3</span></span>
                    <span class="atom">-CH=CH<span class="subscript">2</span></span>
                </div>

                <div class="reaction-arrow">
                    <div class="reagents">
                        BH<span class="subscript">3</span>·THF
                    </div>
                    <div class="arrow-body"></div>
                    <div class="conditions">Step 1</div>
                </div>

                <div class="structure intermediate">
                    <span class="intermediate-label">Trialkylborane</span>
                    <span class="atom">CH<span class="subscript">3</span></span>
                    <span class="atom">-CH<span class="subscript">2</span></span>
                    <span class="atom">-CH<span class="subscript">2</span>-BH<span class="subscript">2</span></span>
                </div>

                <div class="reaction-arrow">
                    <div class="reagents">
                        H<span class="subscript">2</span>O<span class="subscript">2</span>, OH<span class="superscript">−</span>
                    </div>
                    <div class="arrow-body"></div>
                    <div class="conditions">Step 2</div>
                </div>

                <div class="structure product">
                    <span class="product-label">Primary Alcohol</span>
                    <span class="atom">CH<span class="subscript">3</span></span>
                    <span class="atom">-CH<span class="subscript">2</span></span>
                    <span class="atom">-CH<span class="subscript">2</span>OH</span>
                </div>
            </div>

            <!-- STEP 12: Fischer Esterification -->
            <div class="step">
                <div class="step-number">Step 12: Fischer Esterification (Equilibrium Reaction)</div>

                <div class="structure">
                    <span class="atom">R-COOH</span>
                </div>

                <div style="margin: 0 10px; font-size: 24px;">+</div>

                <div class="structure">
                    <span class="atom oxygen">R'OH</span>
                </div>

                <div class="equilibrium-arrow"></div>

                <div class="structure product">
                    <span class="product-label">Ester</span>
                    <span class="atom">R-COO-R'</span>
                </div>

                <div style="margin: 0 10px; font-size: 24px;">+</div>

                <div class="structure">
                    <span class="atom oxygen">H<span class="subscript">2</span>O</span>
                </div>

                <div style="display: block; margin-top: 20px; text-align: center; color: #666; font-style: italic;">
                    Catalyst: H<span class="subscript">2</span>SO<span class="subscript">4</span> or HCl
                </div>
            </div>

            <!-- STEP 13: Wittig Reaction -->
            <div class="step">
                <div class="step-number">Step 13: Wittig Reaction (Alkene Formation)</div>

                <div class="structure">
                    <span class="atom">Ph<span class="subscript">3</span>P=CH<span class="subscript">2</span></span>
                    <span class="annotation" style="bottom: -35px; left: 0;">Ylide (Phosphonium)</span>
                </div>

                <div style="margin: 0 10px; font-size: 24px;">+</div>

                <div class="structure">
                    <span class="atom">R-C(=O)-R'</span>
                </div>

                <div class="reaction-arrow">
                    <div class="arrow-body"></div>
                    <div class="conditions">THF, 25°C</div>
                </div>

                <div class="structure intermediate">
                    <span class="intermediate-label">Betaine Intermediate</span>
                    <span class="atom" style="font-size: 14px;">
                        R-C(O<span class="superscript negative-charge">−</span>)(R')-CH<span class="subscript">2</span>-PPh<span class="subscript">3</span><span class="superscript positive-charge">+</span>
                    </span>
                </div>

                <div class="reaction-arrow">
                    <div class="arrow-body"></div>
                </div>

                <div class="structure product">
                    <span class="product-label">Alkene</span>
                    <span class="atom">R-C(R')=CH<span class="subscript">2</span></span>
                    <span style="margin-left: 15px;">+</span>
                    <span class="atom">Ph<span class="subscript">3</span>P=O</span>
                </div>
            </div>

            <!-- STEP 14: SN1 with Carbocation Rearrangement -->
            <div class="step">
                <div class="step-number">Step 14: SN1 with Wagner-Meerwein Rearrangement</div>

                <div class="structure">
                    <span class="atom">(CH<span class="subscript">3</span>)<span class="subscript">2</span>CH-CH<span class="subscript">2</span>Br</span>
                    <span class="annotation" style="bottom: -35px;">Neopentyl bromide</span>
                </div>

                <div class="reaction-arrow">
                    <div class="reagents">H<span class="subscript">2</span>O</div>
                    <div class="arrow-body"></div>
                    <div class="conditions">
                        <span class="heat delta">Δ</span>
                    </div>
                </div>

                <div class="structure intermediate">
                    <span class="intermediate-label">1° Carbocation</span>
                    <span class="atom">(CH<span class="subscript">3</span>)<span class="subscript">2</span>CH-CH<span class="subscript">2</span></span>
                    <span class="superscript positive-charge">+</span>
                </div>

                <div class="reaction-arrow">
                    <div class="reagents">Hydride shift</div>
                    <div class="arrow-body"></div>
                </div>

                <div class="structure intermediate">
                    <span class="intermediate-label">2° Carbocation (more stable)</span>
                    <span class="atom">(CH<span class="subscript">3</span>)<span class="subscript">2</span>C<span class="superscript positive-charge">+</span>-CH<span class="subscript">3</span></span>
                </div>

                <div class="reaction-arrow">
                    <div class="reagents">H<span class="subscript">2</span>O</div>
                    <div class="arrow-body"></div>
                </div>

                <div class="structure product">
                    <span class="product-label">Rearranged Alcohol</span>
                    <span class="atom">(CH<span class="subscript">3</span>)<span class="subscript">2</span>C(OH)-CH<span class="subscript">3</span></span>
                </div>
            </div>

            <!-- STEP 15: Protecting Group Strategy -->
            <div class="step">
                <div class="step-number">Step 15: Protecting Group Chemistry (Silyl Ether)</div>

                <div class="structure">
                    <span class="atom oxygen">R-OH</span>
                    <span class="annotation" style="bottom: -35px;">Sensitive alcohol</span>
                </div>

                <div class="reaction-arrow">
                    <div class="reagents">
                        TBSCl, imidazole
                    </div>
                    <div class="arrow-body"></div>
                    <div class="conditions">Protection</div>
                </div>

                <div class="structure">
                    <span class="atom oxygen">R-O-TBS</span>
                    <span class="annotation" style="bottom: -35px;">Protected</span>
                </div>

                <div class="reaction-arrow">
                    <div class="reagents">
                        Multiple steps...
                    </div>
                    <div class="arrow-body"></div>
                </div>

                <div class="structure">
                    <span class="atom oxygen">Product-O-TBS</span>
                </div>

                <div class="reaction-arrow">
                    <div class="reagents">
                        TBAF, THF
                    </div>
                    <div class="arrow-body"></div>
                    <div class="conditions">Deprotection</div>
                </div>

                <div class="structure product">
                    <span class="product-label">Final Product</span>
                    <span class="atom oxygen">Product-OH</span>
                </div>
            </div>

            <!-- STEP 16: Catalytic Cycle -->
            <div class="step">
                <div class="step-number">Step 16: Catalytic Hydrogenation Cycle</div>

                <div style="position: relative; width: 100%; min-height: 400px;">
                    <div style="text-align: center; margin-bottom: 30px;">
                        <span class="cycle-arrow"></span>
                        <div style="margin-top: 20px; font-size: 16px; font-weight: bold; color: #1976d2;">
                            Catalytic Cycle
                        </div>
                    </div>

                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 40px;">
                        <div class="structure">
                            <span class="step-label">1. Catalyst Activation</span>
                            <span class="atom">[Pd]<span class="subscript">0</span></span>
                            <span style="margin: 0 10px;">+</span>
                            <span class="atom">H<span class="subscript">2</span></span>
                            <span style="margin: 0 10px;">→</span>
                            <span class="atom">[Pd]-H<span class="subscript">2</span></span>
                        </div>

                        <div class="structure">
                            <span class="step-label">2. Alkene Coordination</span>
                            <span class="atom">[Pd]-H<span class="subscript">2</span></span>
                            <span style="margin: 0 10px;">+</span>
                            <span class="atom">R-CH=CH-R'</span>
                        </div>

                        <div class="structure">
                            <span class="step-label">3. Syn Addition</span>
                            <span class="atom">[Pd(alkene)(H)<span class="subscript">2</span>]</span>
                        </div>

                        <div class="structure product">
                            <span class="step-label">4. Product Release</span>
                            <span class="atom">R-CH<span class="subscript">2</span>-CH<span class="subscript">2</span>-R'</span>
                            <span style="margin: 0 10px;">+</span>
                            <span class="atom">[Pd]<span class="subscript">0</span></span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Final Summary Box -->
            <div style="margin-top: 80px; padding: 30px; background: #e3f2fd; border-left: 5px solid #1976d2; border-radius: 5px;">
                <h2 style="color: #1565c0; margin-bottom: 15px; font-size: 24px;">Reaction Types Demonstrated:</h2>
                <ul style="line-height: 2; color: #333; font-size: 16px;">
                    <li>✓ SN2, SN1 Nucleophilic Substitution</li>
                    <li>✓ E1, E2 Elimination Reactions</li>
                    <li>✓ Electrophilic Addition (Markovnikov)</li>
                    <li>✓ Radical Chain Reactions (Halogenation)</li>
                    <li>✓ Nucleophilic Acyl Substitution</li>
                    <li>✓ Aldol Condensation with Enolate Formation</li>
                    <li>✓ Diels-Alder Pericyclic Reaction</li>
                    <li>✓ Electrophilic Aromatic Substitution</li>
                    <li>✓ Grignard Nucleophilic Addition</li>
                    <li>✓ Oxidation-Reduction</li>
                    <li>✓ Hydroboration-Oxidation (Anti-Markovnikov)</li>
                    <li>✓ Fischer Esterification (Equilibrium)</li>
                    <li>✓ Wittig Reaction</li>
                    <li>✓ Carbocation Rearrangement</li>
                    <li>✓ Protecting Group Strategy</li>
                    <li>✓ Catalytic Cycles</li>
                </ul>
            </div>
        </div>
    </div>

    <script>
        // Add smooth scroll behavior
        document.documentElement.style.scrollBehavior = 'smooth';

        console.log('Chemistry Mechanism Visualizer Loaded');
        console.log('This is a comprehensive demo covering major organic chemistry reaction mechanisms');
        console.log('All structures are drawn using pure CSS for maximum compatibility');
    </script>
</body>

</html>
